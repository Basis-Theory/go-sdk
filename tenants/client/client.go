// This file was auto-generated by Fern from our API Definition.

package client

import (
	core "github.com/Basis-Theory/go-sdk/core"
	internal "github.com/Basis-Theory/go-sdk/internal"
	option "github.com/Basis-Theory/go-sdk/option"
	connections "github.com/Basis-Theory/go-sdk/tenants/connections"
	invitations "github.com/Basis-Theory/go-sdk/tenants/invitations"
	members "github.com/Basis-Theory/go-sdk/tenants/members"
	owner "github.com/Basis-Theory/go-sdk/tenants/owner"
	self "github.com/Basis-Theory/go-sdk/tenants/self"
	http "net/http"
	os "os"
)

type Client struct {
	baseURL string
	caller  *internal.Caller
	header  http.Header

	Connections *connections.Client
	Invitations *invitations.Client
	Members     *members.Client
	Owner       *owner.Client
	Self        *self.Client
}

func NewClient(opts ...option.RequestOption) *Client {
	options := core.NewRequestOptions(opts...)
	if options.APIKey == "" {
		options.APIKey = os.Getenv("BT-API-KEY")
	}
	return &Client{
		baseURL: options.BaseURL,
		caller: internal.NewCaller(
			&internal.CallerParams{
				Client:      options.HTTPClient,
				MaxAttempts: options.MaxAttempts,
			},
		),
		header:      options.ToHeader(),
		Connections: connections.NewClient(opts...),
		Invitations: invitations.NewClient(opts...),
		Members:     members.NewClient(opts...),
		Owner:       owner.NewClient(opts...),
		Self:        self.NewClient(opts...),
	}
}
